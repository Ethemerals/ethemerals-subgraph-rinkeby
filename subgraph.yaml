specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Ethemerals
    network: rinkeby
    source:
      address: '0xcdb47e685819638668ff736d1a2ae32b68e76ba5'
      abi: Ethemerals
      startBlock: 9415020
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Core
        - Delegate
        - Ethemeral
        - Metadata
        - Scorecard
        - Account
        - CoreAction
        - DelegateAction
        - EthemeralAction
        - AccountAction
        - Transaction
      abis:
        - name: Ethemerals
          file: ./abis/Ethemerals.json
      eventHandlers:
        - event: AllowDelegatesChange(indexed address,bool)
          handler: handleAllowDelegatesChange
        - event: Approval(indexed address,indexed address,indexed uint256)
          handler: handleApproval
        - event: ApprovalForAll(indexed address,indexed address,bool)
          handler: handleApprovalForAll
        - event: ChangeRewards(uint256,uint32,bool,uint8)
          handler: handleChangeRewards
        - event: ChangeScore(uint256,uint16,bool,uint32)
          handler: handleChangeScore
        - event: DelegateChange(indexed address,bool)
          handler: handleDelegateChange
        - event: Mint(uint256,uint16,uint16,uint16,uint16)
          handler: handleMint
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: PriceChange(uint256)
          handler: handlePriceChange
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/mappings/core.ts

  # ELF
  - kind: ethereum/contract
    name: EthemeralLifeForce
    network: rinkeby
    source:
      address: '0x22b56e6687e6b4ea8dd58b468ee3913cfa4185e3'
      abi: EthemeralLifeForce
      startBlock: 9415020
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Account
      abis:
        - name: EthemeralLifeForce
          file: ./abis/EthemeralLifeForce.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/mappings/ELF.ts

  # EQUIPABLES
  - kind: ethereum/contract
    name: EthemeralEquipables
    network: rinkeby
    source:
      address: '0xc2cd83998d5d76f64830fbd1df2e8b221c4f31a2'
      abi: EthemeralEquipables
      startBlock: 9415020
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Pet
        - PetMetadata
        - Item
        - ItemMetadata
        - Account
        - AccountAction
        - Delegate
        - DelegateAction
        - Transaction
      abis:
        - name: EthemeralEquipables
          file: ./abis/EthemeralEquipables.json
      eventHandlers:
        - event: AllowDelegatesChange(indexed address,bool)
          handler: handleAllowDelegatesChange
        - event: Approval(indexed address,indexed address,indexed uint256)
          handler: handleApproval
        - event: ApprovalForAll(indexed address,indexed address,bool)
          handler: handleApprovalForAll
        - event: DelegateChange(indexed address,bool)
          handler: handleDelegateChange
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/mappings/equipables.ts

  # ETERNAL BATTLE
  - kind: ethereum/contract
    name: EternalBattle
    network: rinkeby
    source:
      address: '0x883170aAcEB39a23642f5aAaab083F5684D3fFB1'
      abi: EternalBattle
      startBlock: 9597477
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Core
        - Delegate
        - Ethemeral
        - Metadata
        - Scorecard
        - Account
        - CoreAction
        - DelegateAction
        - EthemeralAction
        - AccountAction
        - Transaction
      abis:
        - name: EternalBattle
          file: ./abis/EternalBattle.json
      eventHandlers:
        - event: OwnershipTransferred(address,address)
          handler: handleOwnershipTransferred
        - event: StakeCanceled(indexed uint256,bool)
          handler: handleStakeCanceled
        - event: StakeCreated(indexed uint256,uint256,bool)
          handler: handleStakeCreated
        - event: TokenRevived(indexed uint256,uint256)
          handler: handleTokenRevived
      file: ./src/mappings/eternalBattle.ts

  # ART
  - kind: ethereum/contract
    name: EthemeralArt
    network: rinkeby
    source:
      address: '0xAcdE8B2F41dce596C4E95DF65b9479382Ce345e8'
      abi: EthemeralArt
      startBlock: 9691629
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Art
        - Account
      abis:
        - name: EthemeralArt
          file: ./abis/EthemeralArt.json
      eventHandlers:
        - event: AllowDelegatesChange(indexed address,bool)
          handler: handleAllowDelegatesChange
        - event: Approval(indexed address,indexed address,indexed uint256)
          handler: handleApproval
        - event: ApprovalForAll(indexed address,indexed address,bool)
          handler: handleApprovalForAll
        - event: DelegateChange(indexed address,bool)
          handler: handleDelegateChange
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/mappings/art.ts
